{"version":3,"sources":["webpack:///./src/interfaces/files/input.vue?0448","webpack:///./node_modules/deep-object-diff/dist/deleted/index.js","webpack:///./node_modules/deep-object-diff/dist/added/index.js","webpack:///./node_modules/deep-object-diff/dist/updated/index.js","webpack:///./node_modules/deep-object-diff/dist/diff/index.js","webpack:///./node_modules/deep-object-diff/dist/index.js","webpack:///./src/interfaces/files/input.vue?4bbf","webpack:///src/interfaces/files/input.vue","webpack:///./src/interfaces/files/input.vue?9c90","webpack:///./src/interfaces/files/input.vue","webpack:///./node_modules/@directus/extension-toolkit/mixins/interface.js","webpack:///./node_modules/deep-object-diff/dist/utils/index.js","webpack:///./node_modules/deep-object-diff/dist/detailed/index.js"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_input_vue_vue_type_style_index_0_id_37bc53e6_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_input_vue_vue_type_style_index_0_id_37bc53e6_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","global","factory","module","exports","apply","undefined","this","_utils","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","_extends","assign","target","i","arguments","length","source","prototype","hasOwnProperty","call","deletedDiff","lhs","rhs","isObject","l","properObject","r","keys","reduce","acc","difference","isEmpty","default","addedDiff","updatedDiff","isDate","valueOf","diff","deletedValues","_diff","_added","_deleted","_updated","_detailed","detailedDiff","_diff2","_interopRequireDefault","_added2","_deleted2","_updated2","_detailed2","__esModule","render","_vm","_h","$createElement","_c","_self","staticClass","relationshipSetup","attrs","color","icon","_v","_s","$t","items","on","click","toggleManualSort","name","size","manualSortActive","_e","_l","field","type","$event","changeSort","$helpers","formatTitle","sort","asc","class","dragging","readonly","handle","disabled","sortable","start","end","model","callback","$$v","itemsSorted","expression","item","junctionRelatedKey","relatedPrimaryKeyField","startEdit","junctionPrimaryKey","interface-type","collection","datatype","interface","options","stopPropagation","deleteItem","startAddNewItem","selectExisting","fields","visibleFieldNames","relation","junction","collection_one","filters","stagedSelection","selectionPrimaryKeys","input","stageSelection","done","closeSelection","cancel","cancelSelection","to","title","buttons","text","addNew","close","accept","upload","onFileUpload","save","closeEditItem","saveEditItem","new-item","values","editItem","stage-value","stageValue","staticRenderFns","inputvue_type_script_lang_js_","mixins","interface_default","a","data","loading","error","initialValue","_","cloneDeep","computed","visibleFields","relationSetup","Array","isArray","map","val","trim","split","relatedFields","recursiveKey","get","fieldInfo","find","primary_key","_this","sortField","junctionTableFields","collection_many","field_many","_this2","orderBy","set","newValue","_this3","index","objectSpread","watch","oldValue","emitValue","created","_this4","filter","methods","fieldName","fileInfo","_ref","relatedCollectionFields","defaults","mapValues","default_value","tempKey","shortid_default","generate","concat","toConsumableArray","_ref2","$set","_startEdit","asyncToGenerator","regeneratorRuntime","mark","_callee","primaryKey","isNewItem","res","_this5","wrap","_context","prev","next","startsWith","$api","getItem","sent","merge","stop","_x","_this6","primaryKeys","_closeSelection","_callee2","itemPrimaryKeys","newlyAddedItems","newJunctionRecords","_this7","_context2","includes","join","nested","_ref3","_this8","jr","jrPrimaryKey","_this9","after","before","delta","dist","_newVal","newVal","savedPrimaryKeys","newPrimaryKeys","deletedKeys","deletedJunctionRows","_ref5","$emit","files_inputvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","props","id","String","required","Number","Boolean","newItem","_typeof","Symbol","iterator","constructor","d","Date","o","added","deleted","updated"],"mappings":"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","file":"js/chunk-1d361e4e.970da3d7.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./input.vue?vue&type=style&index=0&id=37bc53e6&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./input.vue?vue&type=style&index=0&id=37bc53e6&lang=scss&scoped=true&\"","(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define(['module', 'exports', '../utils'], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(module, exports, require('../utils'));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod, mod.exports, global.utils);\n    global.index = mod.exports;\n  }\n})(this, function (module, exports, _utils) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  }\n\n  var _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  var deletedDiff = function deletedDiff(lhs, rhs) {\n    if (lhs === rhs || !(0, _utils.isObject)(lhs) || !(0, _utils.isObject)(rhs)) return {};\n\n    var l = (0, _utils.properObject)(lhs);\n    var r = (0, _utils.properObject)(rhs);\n\n    return Object.keys(l).reduce(function (acc, key) {\n      if (r.hasOwnProperty(key)) {\n        var difference = deletedDiff(l[key], r[key]);\n\n        if ((0, _utils.isObject)(difference) && (0, _utils.isEmpty)(difference)) return acc;\n\n        return _extends({}, acc, _defineProperty({}, key, difference));\n      }\n\n      return _extends({}, acc, _defineProperty({}, key, undefined));\n    }, {});\n  };\n\n  exports.default = deletedDiff;\n  module.exports = exports['default'];\n});","(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define(['module', 'exports', '../utils'], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(module, exports, require('../utils'));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod, mod.exports, global.utils);\n    global.index = mod.exports;\n  }\n})(this, function (module, exports, _utils) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  }\n\n  var _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  var addedDiff = function addedDiff(lhs, rhs) {\n\n    if (lhs === rhs || !(0, _utils.isObject)(lhs) || !(0, _utils.isObject)(rhs)) return {};\n\n    var l = (0, _utils.properObject)(lhs);\n    var r = (0, _utils.properObject)(rhs);\n\n    return Object.keys(r).reduce(function (acc, key) {\n      if (l.hasOwnProperty(key)) {\n        var difference = addedDiff(l[key], r[key]);\n\n        if ((0, _utils.isObject)(difference) && (0, _utils.isEmpty)(difference)) return acc;\n\n        return _extends({}, acc, _defineProperty({}, key, difference));\n      }\n\n      return _extends({}, acc, _defineProperty({}, key, r[key]));\n    }, {});\n  };\n\n  exports.default = addedDiff;\n  module.exports = exports['default'];\n});","(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define(['module', 'exports', '../utils'], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(module, exports, require('../utils'));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod, mod.exports, global.utils);\n    global.index = mod.exports;\n  }\n})(this, function (module, exports, _utils) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  }\n\n  var _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  var updatedDiff = function updatedDiff(lhs, rhs) {\n\n    if (lhs === rhs) return {};\n\n    if (!(0, _utils.isObject)(lhs) || !(0, _utils.isObject)(rhs)) return rhs;\n\n    var l = (0, _utils.properObject)(lhs);\n    var r = (0, _utils.properObject)(rhs);\n\n    if ((0, _utils.isDate)(l) || (0, _utils.isDate)(r)) {\n      if (l.valueOf() == r.valueOf()) return {};\n      return r;\n    }\n\n    return Object.keys(r).reduce(function (acc, key) {\n\n      if (l.hasOwnProperty(key)) {\n        var difference = updatedDiff(l[key], r[key]);\n\n        if ((0, _utils.isObject)(difference) && (0, _utils.isEmpty)(difference) && !(0, _utils.isDate)(difference)) return acc;\n\n        return _extends({}, acc, _defineProperty({}, key, difference));\n      }\n\n      return acc;\n    }, {});\n  };\n\n  exports.default = updatedDiff;\n  module.exports = exports['default'];\n});","(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define(['module', 'exports', '../utils'], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(module, exports, require('../utils'));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod, mod.exports, global.utils);\n    global.index = mod.exports;\n  }\n})(this, function (module, exports, _utils) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  }\n\n  var _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  var diff = function diff(lhs, rhs) {\n    if (lhs === rhs) return {}; // equal return no diff\n\n    if (!(0, _utils.isObject)(lhs) || !(0, _utils.isObject)(rhs)) return rhs; // return updated rhs\n\n    var l = (0, _utils.properObject)(lhs);\n    var r = (0, _utils.properObject)(rhs);\n\n    var deletedValues = Object.keys(l).reduce(function (acc, key) {\n      return r.hasOwnProperty(key) ? acc : _extends({}, acc, _defineProperty({}, key, undefined));\n    }, {});\n\n    if ((0, _utils.isDate)(l) || (0, _utils.isDate)(r)) {\n      if (l.valueOf() == r.valueOf()) return {};\n      return r;\n    }\n\n    return Object.keys(r).reduce(function (acc, key) {\n      if (!l.hasOwnProperty(key)) return _extends({}, acc, _defineProperty({}, key, r[key])); // return added r key\n\n      var difference = diff(l[key], r[key]);\n\n      if ((0, _utils.isObject)(difference) && (0, _utils.isEmpty)(difference) && !(0, _utils.isDate)(difference)) return acc; // return no diff\n\n      return _extends({}, acc, _defineProperty({}, key, difference)); // return updated key\n    }, deletedValues);\n  };\n\n  exports.default = diff;\n  module.exports = exports['default'];\n});","(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define(['exports', './diff', './added', './deleted', './updated', './detailed'], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(exports, require('./diff'), require('./added'), require('./deleted'), require('./updated'), require('./detailed'));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod.exports, global.diff, global.added, global.deleted, global.updated, global.detailed);\n    global.index = mod.exports;\n  }\n})(this, function (exports, _diff, _added, _deleted, _updated, _detailed) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.detailedDiff = exports.updatedDiff = exports.deletedDiff = exports.diff = exports.addedDiff = undefined;\n\n  var _diff2 = _interopRequireDefault(_diff);\n\n  var _added2 = _interopRequireDefault(_added);\n\n  var _deleted2 = _interopRequireDefault(_deleted);\n\n  var _updated2 = _interopRequireDefault(_updated);\n\n  var _detailed2 = _interopRequireDefault(_detailed);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  exports.addedDiff = _added2.default;\n  exports.diff = _diff2.default;\n  exports.deletedDiff = _deleted2.default;\n  exports.updatedDiff = _updated2.default;\n  exports.detailedDiff = _detailed2.default;\n});","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"interface-many-to-many\"},[(_vm.relationshipSetup === false)?_c('v-notice',{attrs:{\"color\":\"warning\",\"icon\":\"warning\"}},[_vm._v(\"\\n    \"+_vm._s(_vm.$t(\"relationship_not_setup\"))+\"\\n  \")]):[(_vm.items.length)?_c('div',{staticClass:\"table\"},[_c('div',{staticClass:\"header\"},[_c('div',{staticClass:\"row\"},[(_vm.sortable)?_c('button',{staticClass:\"sort-column\",on:{\"click\":_vm.toggleManualSort}},[_c('v-icon',{attrs:{\"name\":\"sort\",\"size\":\"18\",\"color\":_vm.manualSortActive ? 'action' : 'light-gray'}})],1):_vm._e(),_c('div',{staticClass:\"preview-col\"}),_vm._l((_vm.visibleFields),function(field){return _c('button',{key:field.field,attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.changeSort(field.field)}}},[_vm._v(\"\\n            \"+_vm._s(_vm.$helpers.formatTitle(field.field))+\"\\n            \"),(_vm.sort.field === field.field)?_c('v-icon',{attrs:{\"name\":_vm.sort.asc ? 'arrow_downward' : 'arrow_upward',\"size\":\"16\"}}):_vm._e()],1)})],2)]),_c('draggable',{staticClass:\"body\",class:{ dragging: _vm.dragging, readonly: _vm.readonly },attrs:{\"handle\":\".drag-handle\",\"disabled\":!_vm.sortable || !_vm.manualSortActive},on:{\"start\":function($event){_vm.dragging = true},\"end\":function($event){_vm.dragging = false}},model:{value:(_vm.itemsSorted),callback:function ($$v) {_vm.itemsSorted=$$v},expression:\"itemsSorted\"}},_vm._l((_vm.itemsSorted),function(item){return _c('div',{key:item[_vm.junctionRelatedKey][_vm.relatedPrimaryKeyField],staticClass:\"row\",on:{\"click\":function($event){return _vm.startEdit(item[_vm.junctionPrimaryKey])}}},[(_vm.sortable)?_c('div',{staticClass:\"sort-column\",class:{ disabled: !_vm.manualSortActive }},[(!_vm.readonly)?_c('v-icon',{staticClass:\"drag-handle\",attrs:{\"name\":\"drag_handle\"}}):_vm._e()],1):_vm._e(),_c('v-ext-display',{staticClass:\"preview-col\",attrs:{\"interface-type\":\"file\",\"name\":\"thumbnail\",\"collection\":\"directus_files\",\"type\":\"JSON\",\"datatype\":\"TEXT\",\"value\":item[_vm.junctionRelatedKey]}}),_vm._l((_vm.visibleFields),function(field){return _c('div',{key:field.field},[_c('v-ext-display',{attrs:{\"interface-type\":field.interface,\"name\":field.field,\"type\":field.type,\"collection\":field.collection,\"datatype\":field.datatype,\"options\":field.options,\"value\":item[_vm.junctionRelatedKey][field.field]}})],1)}),(!_vm.readonly)?_c('button',{staticClass:\"remove\",on:{\"click\":function($event){$event.stopPropagation();return _vm.deleteItem(item[_vm.junctionPrimaryKey])}}},[_c('v-icon',{attrs:{\"name\":\"close\"}})],1):_vm._e()],2)}),0)],1):_c('v-notice',[_vm._v(_vm._s(_vm.$t(\"no_items_selected\")))]),(!_vm.readonly)?_c('div',{staticClass:\"buttons\"},[(_vm.options.allow_create)?_c('v-button',{attrs:{\"type\":\"button\",\"disabled\":_vm.readonly,\"icon\":\"add\"},on:{\"click\":_vm.startAddNewItem}},[_vm._v(\"\\n        \"+_vm._s(_vm.$t(\"add_new\"))+\"\\n      \")]):_vm._e(),(_vm.options.allow_select)?_c('v-button',{attrs:{\"type\":\"button\",\"disabled\":_vm.readonly,\"icon\":\"playlist_add\"},on:{\"click\":function($event){_vm.selectExisting = true}}},[_vm._v(\"\\n        \"+_vm._s(_vm.$t(\"select_existing\"))+\"\\n      \")]):_vm._e()],1):_vm._e()],(_vm.selectExisting)?_c('v-item-select',{attrs:{\"fields\":_vm.visibleFieldNames,\"collection\":_vm.relation.junction.collection_one.collection,\"filters\":[],\"value\":_vm.stagedSelection || _vm.selectionPrimaryKeys},on:{\"input\":_vm.stageSelection,\"done\":_vm.closeSelection,\"cancel\":_vm.cancelSelection}}):_vm._e(),(_vm.addNew)?_c('portal',{attrs:{\"to\":\"modal\"}},[_c('v-modal',{attrs:{\"title\":_vm.$t('file_upload'),\"buttons\":{\n        done: {\n          text: _vm.$t('done')\n        }\n      }},on:{\"done\":function($event){_vm.addNew = false},\"close\":function($event){_vm.addNew = false}}},[_c('div',{staticClass:\"upload-modal-body\"},[_c('v-upload',{attrs:{\"accept\":_vm.options.accept},on:{\"upload\":_vm.onFileUpload}})],1)])],1):_vm._e(),(_vm.editItem)?_c('portal',{attrs:{\"to\":\"modal\"}},[_c('v-modal',{attrs:{\"title\":_vm.$t('editing_item'),\"buttons\":{\n        save: {\n          text: _vm.$t('save'),\n          color: 'accent'\n        }\n      }},on:{\"close\":_vm.closeEditItem,\"save\":_vm.saveEditItem}},[_c('div',{staticClass:\"edit-modal-body\"},[_c('v-form',{attrs:{\"new-item\":\"\",\"fields\":_vm.relation.junction.collection_one.fields,\"collection\":_vm.relation.junction.collection_one.collection,\"values\":_vm.editItem[_vm.junctionRelatedKey]},on:{\"stage-value\":_vm.stageValue}})],1)])],1):_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"interface-many-to-many\">\n    <v-notice v-if=\"relationshipSetup === false\" color=\"warning\" icon=\"warning\">\n      {{ $t(\"relationship_not_setup\") }}\n    </v-notice>\n\n    <template v-else>\n      <div v-if=\"items.length\" class=\"table\">\n        <div class=\"header\">\n          <div class=\"row\">\n            <button v-if=\"sortable\" class=\"sort-column\" @click=\"toggleManualSort\">\n              <v-icon name=\"sort\" size=\"18\" :color=\"manualSortActive ? 'action' : 'light-gray'\" />\n            </button>\n            <div class=\"preview-col\" />\n            <!-- spacer div for the thumbnail column -->\n            <button\n              v-for=\"field in visibleFields\"\n              :key=\"field.field\"\n              type=\"button\"\n              @click=\"changeSort(field.field)\"\n            >\n              {{ $helpers.formatTitle(field.field) }}\n              <v-icon\n                v-if=\"sort.field === field.field\"\n                :name=\"sort.asc ? 'arrow_downward' : 'arrow_upward'\"\n                size=\"16\"\n              />\n            </button>\n          </div>\n        </div>\n        <draggable\n          v-model=\"itemsSorted\"\n          class=\"body\"\n          handle=\".drag-handle\"\n          :disabled=\"!sortable || !manualSortActive\"\n          :class=\"{ dragging, readonly }\"\n          @start=\"dragging = true\"\n          @end=\"dragging = false\"\n        >\n          <div\n            v-for=\"item in itemsSorted\"\n            :key=\"item[junctionRelatedKey][relatedPrimaryKeyField]\"\n            class=\"row\"\n            @click=\"startEdit(item[junctionPrimaryKey])\"\n          >\n            <div v-if=\"sortable\" class=\"sort-column\" :class=\"{ disabled: !manualSortActive }\">\n              <v-icon v-if=\"!readonly\" name=\"drag_handle\" class=\"drag-handle\" />\n            </div>\n            <v-ext-display\n              class=\"preview-col\"\n              interface-type=\"file\"\n              name=\"thumbnail\"\n              collection=\"directus_files\"\n              type=\"JSON\"\n              datatype=\"TEXT\"\n              :value=\"item[junctionRelatedKey]\"\n            />\n            <div v-for=\"field in visibleFields\" :key=\"field.field\">\n              <v-ext-display\n                :interface-type=\"field.interface\"\n                :name=\"field.field\"\n                :type=\"field.type\"\n                :collection=\"field.collection\"\n                :datatype=\"field.datatype\"\n                :options=\"field.options\"\n                :value=\"item[junctionRelatedKey][field.field]\"\n              />\n            </div>\n            <button\n              v-if=\"!readonly\"\n              class=\"remove\"\n              @click.stop=\"deleteItem(item[junctionPrimaryKey])\"\n            >\n              <v-icon name=\"close\" />\n            </button>\n          </div>\n        </draggable>\n      </div>\n\n      <v-notice v-else>{{ $t(\"no_items_selected\") }}</v-notice>\n\n      <div v-if=\"!readonly\" class=\"buttons\">\n        <v-button\n          v-if=\"options.allow_create\"\n          type=\"button\"\n          :disabled=\"readonly\"\n          icon=\"add\"\n          @click=\"startAddNewItem\"\n        >\n          {{ $t(\"add_new\") }}\n        </v-button>\n\n        <v-button\n          v-if=\"options.allow_select\"\n          type=\"button\"\n          :disabled=\"readonly\"\n          icon=\"playlist_add\"\n          @click=\"selectExisting = true\"\n        >\n          {{ $t(\"select_existing\") }}\n        </v-button>\n      </div>\n    </template>\n\n    <v-item-select\n      v-if=\"selectExisting\"\n      :fields=\"visibleFieldNames\"\n      :collection=\"relation.junction.collection_one.collection\"\n      :filters=\"[]\"\n      :value=\"stagedSelection || selectionPrimaryKeys\"\n      @input=\"stageSelection\"\n      @done=\"closeSelection\"\n      @cancel=\"cancelSelection\"\n    />\n\n    <portal v-if=\"addNew\" to=\"modal\">\n      <v-modal\n        :title=\"$t('file_upload')\"\n        :buttons=\"{\n          done: {\n            text: $t('done')\n          }\n        }\"\n        @done=\"addNew = false\"\n        @close=\"addNew = false\"\n      >\n        <div class=\"upload-modal-body\">\n          <v-upload :accept=\"options.accept\" @upload=\"onFileUpload\" />\n        </div>\n      </v-modal>\n    </portal>\n\n    <portal v-if=\"editItem\" to=\"modal\">\n      <v-modal\n        :title=\"$t('editing_item')\"\n        :buttons=\"{\n          save: {\n            text: $t('save'),\n            color: 'accent'\n          }\n        }\"\n        @close=\"closeEditItem\"\n        @save=\"saveEditItem\"\n      >\n        <div class=\"edit-modal-body\">\n          <v-form\n            new-item\n            :fields=\"relation.junction.collection_one.fields\"\n            :collection=\"relation.junction.collection_one.collection\"\n            :values=\"editItem[junctionRelatedKey]\"\n            @stage-value=\"stageValue\"\n          />\n        </div>\n      </v-modal>\n    </portal>\n  </div>\n</template>\n\n<script>\nimport mixin from \"@directus/extension-toolkit/mixins/interface\";\nimport { diff } from \"deep-object-diff\";\nimport shortid from \"shortid\";\n\nexport default {\n  name: \"InterfaceFiles\",\n  mixins: [mixin],\n  data() {\n    return {\n      sort: {\n        field: null,\n        asc: true\n      },\n\n      selectExisting: false,\n      editItem: false,\n      addNew: null,\n\n      dragging: false,\n\n      items: [],\n      loading: false,\n      error: null,\n      stagedSelection: null,\n\n      initialValue: _.cloneDeep(this.value) || []\n    };\n  },\n\n  computed: {\n    // If the relationship has been configured or not\n    relationshipSetup() {\n      if (!this.relation) return false;\n      return true;\n    },\n\n    // The fields that should be rendered in the modal / table\n    visibleFields() {\n      if (this.relationSetup === false) return [];\n      if (!this.options.fields) return [];\n\n      let visibleFieldNames;\n\n      if (Array.isArray(this.options.fields)) {\n        visibleFieldNames = this.options.fields.map(val => val.trim());\n      }\n\n      visibleFieldNames = this.options.fields.split(\",\").map(val => val.trim());\n\n      // Fields in the related collection (not the JT)\n      const relatedFields = this.relation.junction.collection_one.fields;\n      const recursiveKey = _.get(this.relation, \"junction.field_one.field\", null);\n\n      return visibleFieldNames.map(name => {\n        const fieldInfo = relatedFields[name];\n\n        if (recursiveKey && name === recursiveKey) {\n          fieldInfo.readonly = true;\n        }\n\n        return fieldInfo;\n      });\n    },\n\n    visibleFieldNames() {\n      return this.visibleFields.map(field => field.field);\n    },\n\n    // The name of the field that holds the primary key in the related (not JT) collection\n    relatedPrimaryKeyField() {\n      return _.find(this.relation.junction.collection_one.fields, { primary_key: true }).field;\n    },\n\n    selectionPrimaryKeys() {\n      return this.items.map(item => item[this.junctionRelatedKey][this.relatedPrimaryKeyField]);\n    },\n\n    // Field in the junction table that holds the sort value in the junction table\n    sortField() {\n      const junctionTableFields = this.relation.collection_many.fields;\n      const sortField = _.find(junctionTableFields, { type: \"sort\" });\n      return sortField;\n    },\n\n    // If the items can be manually sorted\n    sortable() {\n      return !!this.sortField;\n    },\n\n    manualSortActive() {\n      return this.sort.field === \"$manual\";\n    },\n\n    // The key in the junction row that holds the data of the related item\n    junctionRelatedKey() {\n      return this.relation.junction.field_many.field;\n    },\n\n    junctionPrimaryKey() {\n      return _.find(this.relation.junction.collection_many.fields, { primary_key: true }).field;\n    },\n\n    itemsSorted: {\n      get() {\n        if (this.sort.field === \"$manual\") {\n          return _.orderBy(\n            _.cloneDeep(this.items),\n            item => item[this.sortField.field],\n            this.sort.asc ? \"asc\" : \"desc\"\n          );\n        }\n\n        return _.orderBy(\n          _.cloneDeep(this.items),\n          item => item[this.junctionRelatedKey][this.sort.field],\n          this.sort.asc ? \"asc\" : \"desc\"\n        );\n      },\n      set(newValue) {\n        this.items = newValue.map((item, index) => {\n          return {\n            ...item,\n            [this.sortField.field]: index + 1\n          };\n        });\n      }\n    }\n  },\n\n  watch: {\n    items(value, oldValue) {\n      if (oldValue === null) return;\n      this.emitValue(value);\n    }\n  },\n  created() {\n    if (this.sortable) {\n      this.sort.field = \"$manual\";\n    } else {\n      // Set the default sort column\n      if (this.visibleFields && this.visibleFields.length > 0) {\n        this.sort.field = this.visibleFields[0].field;\n      }\n    }\n\n    // Set the initial set of items. Filter out any broken junction records\n    this.items = (_.cloneDeep(this.value) || []).filter(item => item[this.junctionRelatedKey]);\n  },\n\n  methods: {\n    // Change the sort position to the provided field. If the same field is\n    // changed, flip the sort order\n    changeSort(fieldName) {\n      if (this.sort.field === fieldName) {\n        this.sort.asc = !this.sort.asc;\n        return;\n      }\n\n      this.sort.asc = true;\n      this.sort.field = fieldName;\n      return;\n    },\n\n    startAddNewItem() {\n      this.addNew = true;\n    },\n\n    onFileUpload(fileInfo) {\n      const relatedCollectionFields = this.relation.junction.collection_one.fields;\n      const defaults = _.mapValues(relatedCollectionFields, field => field.default_value);\n      const tempKey = \"$temp_\" + shortid.generate();\n\n      if (defaults.hasOwnProperty(this.relatedPrimaryKeyField))\n        delete defaults[this.relatedPrimaryKeyField];\n\n      this.items = [\n        ...this.items,\n        {\n          [this.junctionPrimaryKey]: tempKey,\n          [this.junctionRelatedKey]: fileInfo.data\n        }\n      ];\n    },\n\n    // Save the made edits in the add new item modal\n    stageValue({ field, value }) {\n      this.$set(this.editItem[this.junctionRelatedKey], field, value);\n    },\n\n    toggleManualSort() {\n      this.sort.field = \"$manual\";\n      this.sort.asc = true;\n    },\n\n    async startEdit(primaryKey) {\n      let values = _.cloneDeep(this.items.find(i => i[this.junctionPrimaryKey] === primaryKey));\n\n      const isNewItem = typeof primaryKey === \"string\" && primaryKey.startsWith(\"$temp_\");\n\n      // Fetch the values from the DB\n      if (isNewItem === false) {\n        const collection = this.relation.collection_many.collection;\n\n        const res = await this.$api.getItem(collection, primaryKey, { fields: \"*.*.*\" });\n        const item = res.data;\n\n        values = _.merge({}, item, values);\n      }\n\n      this.editItem = values;\n    },\n\n    saveEditItem() {\n      const primaryKey = this.editItem[this.junctionPrimaryKey];\n\n      this.items = this.items.map(item => {\n        if (item[this.junctionPrimaryKey] === primaryKey) {\n          return this.editItem;\n        }\n\n        return item;\n      });\n\n      this.editItem = null;\n    },\n\n    closeEditItem() {\n      this.editItem = null;\n    },\n\n    stageSelection(primaryKeys) {\n      this.stagedSelection = primaryKeys;\n    },\n\n    async closeSelection() {\n      const primaryKeys = this.stagedSelection || [];\n\n      // Remove all the items from this.items that aren't selected anymore\n      this.items = this.items.filter(item => {\n        const primaryKey = item[this.junctionRelatedKey][this.relatedPrimaryKeyField];\n        return primaryKeys.includes(primaryKey);\n      });\n\n      // Fetch all the newly selected items so we can render it in the table\n      const itemPrimaryKeys = this.items.map(\n        item => item[this.junctionRelatedKey][this.relatedPrimaryKeyField]\n      );\n      const newlyAddedItems = _.difference(primaryKeys, itemPrimaryKeys);\n\n      const res = await this.$api.getItem(\n        this.relation.junction.collection_one.collection,\n        newlyAddedItems.join(\",\"),\n        {\n          fields: \"*.*.*\"\n        }\n      );\n\n      const items = Array.isArray(res.data) ? res.data : [res.data];\n\n      const newJunctionRecords = items.map(nested => {\n        const tempKey = \"$temp_\" + shortid.generate();\n\n        return {\n          [this.junctionPrimaryKey]: tempKey,\n          [this.junctionRelatedKey]: nested\n        };\n      });\n\n      this.items = [...this.items, ...newJunctionRecords];\n\n      this.stagedSelection = null;\n      this.selectExisting = false;\n    },\n\n    cancelSelection() {\n      this.stagedSelection = null;\n      this.selectExisting = null;\n    },\n\n    deleteItem(primaryKey) {\n      this.items = this.items.filter(jr => {\n        const jrPrimaryKey = jr[this.junctionPrimaryKey];\n        return jrPrimaryKey !== primaryKey;\n      });\n    },\n\n    emitValue(value) {\n      value = _.cloneDeep(value);\n\n      // This is the key in the nested related object that holds the parent item again\n      const recursiveKey = _.get(this.relation, \"junction.field_one.field\", null);\n\n      const newValue = value\n        .map(after => {\n          const primaryKey = after[this.junctionPrimaryKey];\n\n          // Check if the current item was saved before\n          const before = this.initialValue.find(i => i[this.junctionPrimaryKey] === primaryKey);\n\n          if (before) {\n            const delta = diff(before, after);\n\n            if (Object.keys(delta).length > 0) {\n              const newVal = {\n                [this.junctionPrimaryKey]: primaryKey,\n                [this.junctionRelatedKey]: {\n                  [this.relatedPrimaryKeyField]:\n                    before[this.junctionRelatedKey][this.relatedPrimaryKeyField]\n                }\n              };\n\n              // Just in case there's an edit in the deep-nested recursive copy of the parent item\n              // delete it\n              if (recursiveKey && newVal[this.junctionRelatedKey].hasOwnProperty(recursiveKey)) {\n                delete newVal[this.junctionRelatedKey][recursiveKey];\n              }\n\n              return _.merge({}, newVal, delta);\n            } else {\n              return null;\n            }\n          }\n\n          // If the junction item didn't exist before yet:\n          if (\n            typeof after[this.junctionPrimaryKey] === \"string\" &&\n            after[this.junctionPrimaryKey].startsWith(\"$temp_\")\n          ) {\n            // Seeing that the file is uploaded and therefore created before the current item is saved\n            // we only have to save the id of the file for the junction row\n            // NOTE: we could hardcode primarykey to `id` since this is made to work with directus_files only\n            return {\n              [this.junctionRelatedKey]: {\n                [this.relatedPrimaryKeyField]:\n                  after[this.junctionRelatedKey][this.relatedPrimaryKeyField]\n              }\n            };\n          }\n\n          return after;\n        })\n        .filter(i => i);\n\n      const savedPrimaryKeys = this.initialValue.map(jr => jr[this.junctionPrimaryKey]);\n      const newPrimaryKeys = value.map(jr => jr[this.junctionPrimaryKey]);\n      const deletedKeys = _.difference(savedPrimaryKeys, newPrimaryKeys);\n      const deletedJunctionRows = deletedKeys.map(key => {\n        return {\n          [this.junctionPrimaryKey]: key,\n          $delete: true\n        };\n      });\n\n      this.$emit(\"input\", [...newValue, ...deletedJunctionRows]);\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.table {\n  background-color: var(--white);\n  border: var(--input-border-width) solid var(--lighter-gray);\n  border-radius: var(--border-radius);\n  border-spacing: 0;\n  width: 100%;\n  margin: 16px 0 24px;\n\n  .header {\n    height: var(--input-height);\n    border-bottom: 2px solid var(--lightest-gray);\n\n    button {\n      text-align: left;\n      font-weight: 500;\n      transition: color var(--fast) var(--transition);\n\n      &:hover {\n        transition: none;\n        color: var(--darker-gray);\n      }\n    }\n\n    i {\n      vertical-align: top;\n      color: var(--light-gray);\n    }\n  }\n\n  .row {\n    display: flex;\n    align-items: center;\n    padding: 0 5px;\n\n    > div {\n      padding: 3px 5px;\n      flex-basis: 200px;\n    }\n  }\n\n  .header .row {\n    align-items: center;\n    height: 40px;\n\n    & > button {\n      padding: 3px 5px 2px;\n      flex-basis: 200px;\n    }\n  }\n\n  .body {\n    max-height: 275px;\n    overflow-y: scroll;\n    -webkit-overflow-scrolling: touch;\n\n    .row {\n      cursor: pointer;\n      position: relative;\n      height: 50px;\n      border-bottom: 2px solid var(--off-white);\n\n      &:hover {\n        background-color: var(--highlight);\n      }\n\n      & div:last-of-type {\n        flex-grow: 1;\n      }\n\n      button {\n        color: var(--lighter-gray);\n        transition: color var(--fast) var(--transition);\n\n        &:hover {\n          transition: none;\n          color: var(--danger);\n        }\n      }\n    }\n\n    &.readonly {\n      pointer-events: none;\n    }\n  }\n\n  .sort-column {\n    flex-basis: 36px !important;\n\n    &.disabled i {\n      color: var(--lightest-gray);\n      cursor: not-allowed;\n    }\n  }\n}\n\n.drag-handle {\n  cursor: grab;\n}\n\n.dragging {\n  cursor: grabbing !important;\n}\n\n.buttons {\n  margin-top: 24px;\n}\n\n.buttons > * {\n  display: inline-block;\n}\n\n.buttons > *:first-child {\n  margin-right: 24px;\n}\n\n.edit-modal-body {\n  padding: 30px 30px 60px 30px;\n  background-color: var(--body-background);\n  .form {\n    grid-template-columns:\n      [start] minmax(0, var(--column-width)) [half] minmax(0, var(--column-width))\n      [full];\n  }\n}\n\n.preview-col {\n  flex-basis: 42px !important; // \n}\n\n.upload-modal-body {\n  padding: 30px;\n  background-color: var(--body-background);\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./input.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./input.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./input.vue?vue&type=template&id=37bc53e6&scoped=true&\"\nimport script from \"./input.vue?vue&type=script&lang=js&\"\nexport * from \"./input.vue?vue&type=script&lang=js&\"\nimport style0 from \"./input.vue?vue&type=style&index=0&id=37bc53e6&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"37bc53e6\",\n  null\n  \n)\n\nexport default component.exports","module.exports = {\n  props: {\n    // Unique id for this interface. Should be added to the lower level \n    // HTML input element if applicable. This ID will be used in the label's\n    // `for` attribute\n    id: {\n      type: String,\n      required: true\n    },\n    // Name of the field\n    name: {\n      type: String,\n      required: true\n    },\n    // The current value. This can either be the default value, the saved database\n    // value or the current state after the user made an edit\n    value: {\n      type: null,\n      default: null\n    },\n    // Type of the field, eg `string`, `hash`, or `array`\n    type: {\n      type: String,\n      required: true\n    },\n    // Max length\n    length: {\n      type: [String, Number],\n      default: null\n    },\n    // If the field is readonly or not\n    readonly: {\n      type: Boolean,\n      default: false\n    },\n    // Name of the collection\n    collection: {\n      type: String,\n      default: null\n    },\n    // If the field is required or not\n    required: {\n      type: Boolean,\n      default: false\n    },\n    // Field options. A json object based on the interface's meta.json file\n    options: {\n      type: Object,\n      default: () => ({})\n    },\n    // If the item that's currently being edited is new\n    newItem: {\n      type: Boolean,\n      default: false\n    },\n    // The relation of the current field. Will contain information on the related\n    // collection and field(s)\n    relation: {\n      type: Object,\n      default: null\n    },\n    // The other fields in the current edit page\n    fields: {\n      type: Object,\n      default: null\n    },\n    // The values of the other fields on the edit page. Can be used for things like\n    // automatically generating a slug based on another field\n    values: {\n      type: Object,\n      default: null\n    }\n  }\n};\n","(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define(['exports'], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(exports);\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod.exports);\n    global.index = mod.exports;\n  }\n})(this, function (exports) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  };\n\n  var isDate = exports.isDate = function isDate(d) {\n    return d instanceof Date;\n  };\n  var isEmpty = exports.isEmpty = function isEmpty(o) {\n    return Object.keys(o).length === 0;\n  };\n  var isObject = exports.isObject = function isObject(o) {\n    return o != null && (typeof o === 'undefined' ? 'undefined' : _typeof(o)) === 'object';\n  };\n  var properObject = exports.properObject = function properObject(o) {\n    return isObject(o) && !o.hasOwnProperty ? _extends({}, o) : o;\n  };\n});","(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define(['module', 'exports', '../added', '../deleted', '../updated'], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(module, exports, require('../added'), require('../deleted'), require('../updated'));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod, mod.exports, global.added, global.deleted, global.updated);\n    global.index = mod.exports;\n  }\n})(this, function (module, exports, _added, _deleted, _updated) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var _added2 = _interopRequireDefault(_added);\n\n  var _deleted2 = _interopRequireDefault(_deleted);\n\n  var _updated2 = _interopRequireDefault(_updated);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  var detailedDiff = function detailedDiff(lhs, rhs) {\n    return {\n      added: (0, _added2.default)(lhs, rhs),\n      deleted: (0, _deleted2.default)(lhs, rhs),\n      updated: (0, _updated2.default)(lhs, rhs)\n    };\n  };\n\n  exports.default = detailedDiff;\n  module.exports = exports['default'];\n});"],"sourceRoot":""}