{"version":3,"sources":["webpack:///./src/interfaces/file-size/format-size.js","webpack:///./src/interfaces/file/input.vue?db46","webpack:///./node_modules/@directus/extension-toolkit/mixins/interface.js","webpack:///./src/interfaces/file/input.vue?dccf","webpack:///src/interfaces/file/input.vue","webpack:///./src/interfaces/file/input.vue?e7b9","webpack:///./src/interfaces/file/input.vue","webpack:///./src/interfaces/file/get-icon.js"],"names":["formatSize","bytes","arguments","length","undefined","decimal","threshold","Boolean","Math","abs","concat","units","unitIndex","remainingBytes","toFixed","__webpack_require__","d","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_input_vue_vue_type_style_index_0_id_11d21871_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_input_vue_vue_type_style_index_0_id_11d21871_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","module","exports","props","id","type","String","required","name","value","default","Number","readonly","options","Object","newItem","relation","fields","values","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","title","subtitle","subtitleExtra","src","icon","href","remove","text","$t","on","$event","$emit","small","disabled","accept","multiple","upload","saveUpload","click","newFile","_v","_s","existing","to","buttons","done","close","_e","action-required","placeholder","input","onSearchInput","collection","view-type","viewType","selection","filters","view-query","viewQuery","view-options","viewOptions","setViewOptions","query","setViewQuery","select","staticRenderFns","inputvue_type_script_lang_js_","mixins","interface_default","a","data","viewOptionsOverride","viewTypeOverride","viewQueryOverride","filtersOverride","computed","filename","split","pop","$d","Date","uploaded_on","startsWith","width","height","format_size","filesize","full_url","get_icon","objectSpread","toConsumableArray","fileTypeFilters","some","filter","field","operator","trim","methods","fileInfo","updates","q","created","$lodash","debounce","file_inputvue_type_script_lang_js_","component","componentNormalizer","getIcon"],"mappings":"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","file":"js/chunk-23c99662.884696e1.js","sourcesContent":["/**\n * Convert a value in bytes to a human readable format\n * @param {number} value The value in bytes to format\n * @return {string} The human readable filesize\n * @example\n *\n * const byteSize = 1500;\n * const fileSize = formatSize(byteSize);\n * // => '1.5 KB'\n * @see https://stackoverflow.com/a/14919494/4859211\n */\nexport default function formatSize(bytes = 0, decimal = true) {\n  const threshold = decimal ? 1000 : 1024;\n\n  if (Boolean(bytes) === false) {\n    return \"--\";\n  }\n\n  if (Math.abs(bytes) < threshold) {\n    return `${bytes} B`;\n  }\n\n  const units = decimal\n    ? [\"kB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\", \"ZB\", \"YB\"]\n    : [\"KiB\", \"MiB\", \"GiB\", \"TiB\", \"PiB\", \"EiB\", \"ZiB\", \"YiB\"];\n\n  let unitIndex = -1;\n  let remainingBytes = bytes;\n\n  do {\n    remainingBytes /= threshold;\n    unitIndex += 1;\n  } while (Math.abs(remainingBytes) >= threshold && unitIndex < units.length - 1);\n\n  return `${remainingBytes.toFixed(1)} ${units[unitIndex]}`;\n}\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./input.vue?vue&type=style&index=0&id=11d21871&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./input.vue?vue&type=style&index=0&id=11d21871&lang=scss&scoped=true&\"","module.exports = {\n  props: {\n    // Unique id for this interface. Should be added to the lower level \n    // HTML input element if applicable. This ID will be used in the label's\n    // `for` attribute\n    id: {\n      type: String,\n      required: true\n    },\n    // Name of the field\n    name: {\n      type: String,\n      required: true\n    },\n    // The current value. This can either be the default value, the saved database\n    // value or the current state after the user made an edit\n    value: {\n      type: null,\n      default: null\n    },\n    // Type of the field, eg `string`, `hash`, or `array`\n    type: {\n      type: String,\n      required: true\n    },\n    // Max length\n    length: {\n      type: [String, Number],\n      default: null\n    },\n    // If the field is readonly or not\n    readonly: {\n      type: Boolean,\n      default: false\n    },\n    // If the field is required or not\n    required: {\n      type: Boolean,\n      default: false\n    },\n    // Field options. A json object based on the interface's meta.json file\n    options: {\n      type: Object,\n      default: () => ({})\n    },\n    // If the item that's currently being edited is new\n    newItem: {\n      type: Boolean,\n      default: false\n    },\n    // The relation of the current field. Will contain information on the related\n    // collection and field(s)\n    relation: {\n      type: Object,\n      default: null\n    },\n    // The other fields in the current edit page\n    fields: {\n      type: Object,\n      default: null\n    },\n    // The values of the other fields on the edit page. Can be used for things like\n    // automatically generating a slug based on another field\n    values: {\n      type: Object,\n      default: null\n    }\n  }\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"input-single-file\"},[(_vm.value)?_c('v-card',{staticClass:\"card\",attrs:{\"title\":_vm.value.title,\"subtitle\":_vm.subtitle + _vm.subtitleExtra,\"src\":_vm.src,\"icon\":_vm.icon,\"href\":_vm.href,\"options\":{\n      remove: {\n        text: _vm.$t('delete'),\n        icon: 'delete'\n      }\n    }},on:{\"remove\":function($event){return _vm.$emit('input', null)}}}):_c('v-upload',{staticClass:\"dropzone\",attrs:{\"small\":\"\",\"disabled\":_vm.readonly,\"accept\":_vm.options.accept,\"multiple\":false},on:{\"upload\":_vm.saveUpload}}),_c('v-button',{attrs:{\"type\":\"button\",\"disabled\":_vm.readonly},on:{\"click\":function($event){_vm.newFile = true}}},[_c('v-icon',{attrs:{\"name\":\"add\"}}),_vm._v(\"\\n    \"+_vm._s(_vm.$t(\"new_file\"))+\"\\n  \")],1),_c('v-button',{attrs:{\"type\":\"button\",\"disabled\":_vm.readonly},on:{\"click\":function($event){_vm.existing = true}}},[_c('v-icon',{attrs:{\"name\":\"playlist_add\"}}),_vm._v(\"\\n    \"+_vm._s(_vm.$t(\"existing\"))+\"\\n  \")],1),(_vm.newFile)?_c('portal',{attrs:{\"to\":\"modal\"}},[_c('v-modal',{attrs:{\"title\":_vm.$t('file_upload'),\"buttons\":{\n        done: {\n          text: _vm.$t('done')\n        }\n      }},on:{\"close\":function($event){_vm.newFile = false}}},[_c('div',{staticClass:\"body\"},[_c('v-upload',{attrs:{\"accept\":_vm.options.accept,\"multiple\":false},on:{\"upload\":_vm.saveUpload}})],1)])],1):_vm._e(),(_vm.existing)?_c('portal',{attrs:{\"to\":\"modal\"}},[_c('v-modal',{attrs:{\"title\":_vm.$t('choose_one'),\"buttons\":{\n        done: {\n          text: _vm.$t('done')\n        }\n      },\"action-required\":\"\"},on:{\"close\":function($event){_vm.existing = false},\"done\":function($event){_vm.existing = false}}},[_c('div',{staticClass:\"search\"},[_c('v-input',{staticClass:\"search-input\",attrs:{\"type\":\"search\",\"placeholder\":_vm.$t('search')},on:{\"input\":_vm.onSearchInput}})],1),_c('v-items',{staticClass:\"items\",attrs:{\"collection\":\"directus_files\",\"view-type\":_vm.viewType,\"selection\":_vm.value ? [_vm.value] : [],\"filters\":_vm.filters,\"view-query\":_vm.viewQuery,\"view-options\":_vm.viewOptions},on:{\"options\":_vm.setViewOptions,\"query\":_vm.setViewQuery,\"select\":function($event){return _vm.$emit('input', $event[$event.length - 1])}}})],1)],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"input-single-file\">\n    <v-card\n      v-if=\"value\"\n      class=\"card\"\n      :title=\"value.title\"\n      :subtitle=\"subtitle + subtitleExtra\"\n      :src=\"src\"\n      :icon=\"icon\"\n      :href=\"href\"\n      :options=\"{\n        remove: {\n          text: $t('delete'),\n          icon: 'delete'\n        }\n      }\"\n      @remove=\"$emit('input', null)\"\n    ></v-card>\n    <v-upload\n      v-else\n      small\n      :disabled=\"readonly\"\n      class=\"dropzone\"\n      @upload=\"saveUpload\"\n      :accept=\"options.accept\"\n      :multiple=\"false\"\n    ></v-upload>\n\n    <v-button type=\"button\" :disabled=\"readonly\" @click=\"newFile = true\">\n      <v-icon name=\"add\" />\n      {{ $t(\"new_file\") }}\n    </v-button>\n    <!--\n    -->\n    <v-button type=\"button\" :disabled=\"readonly\" @click=\"existing = true\">\n      <v-icon name=\"playlist_add\" />\n      {{ $t(\"existing\") }}\n    </v-button>\n\n    <portal to=\"modal\" v-if=\"newFile\">\n      <v-modal\n        :title=\"$t('file_upload')\"\n        @close=\"newFile = false\"\n        :buttons=\"{\n          done: {\n            text: $t('done')\n          }\n        }\"\n      >\n        <div class=\"body\">\n          <v-upload @upload=\"saveUpload\" :accept=\"options.accept\" :multiple=\"false\"></v-upload>\n        </div>\n      </v-modal>\n    </portal>\n\n    <portal to=\"modal\" v-if=\"existing\">\n      <v-modal\n        :title=\"$t('choose_one')\"\n        :buttons=\"{\n          done: {\n            text: $t('done')\n          }\n        }\"\n        @close=\"existing = false\"\n        @done=\"existing = false\"\n        action-required\n      >\n        <div class=\"search\">\n          <v-input\n            type=\"search\"\n            :placeholder=\"$t('search')\"\n            class=\"search-input\"\n            @input=\"onSearchInput\"\n          />\n        </div>\n        <v-items\n          class=\"items\"\n          collection=\"directus_files\"\n          :view-type=\"viewType\"\n          :selection=\"value ? [value] : []\"\n          :filters=\"filters\"\n          :view-query=\"viewQuery\"\n          :view-options=\"viewOptions\"\n          @options=\"setViewOptions\"\n          @query=\"setViewQuery\"\n          @select=\"$emit('input', $event[$event.length - 1])\"\n        ></v-items>\n      </v-modal>\n    </portal>\n  </div>\n</template>\n\n<script>\nimport mixin from \"@directus/extension-toolkit/mixins/interface\";\nimport formatSize from \"../file-size/format-size\";\nimport getIcon from \"./get-icon\";\n\nexport default {\n  mixins: [mixin],\n  data() {\n    return {\n      newFile: false,\n      existing: false,\n\n      viewOptionsOverride: {},\n      viewTypeOverride: null,\n      viewQueryOverride: {},\n      filtersOverride: []\n    };\n  },\n  computed: {\n    subtitle() {\n      if (!this.value) return \"\";\n\n      return (\n        this.value.filename.split(\".\").pop() +\n        \" • \" +\n        this.$d(new Date(this.value.uploaded_on), \"short\")\n      );\n    },\n    subtitleExtra() {\n      // Image ? -> display dimensions and formatted filesize\n      return this.value.type && this.value.type.startsWith(\"image\")\n        ? \" • \" +\n            this.value.width +\n            \" x \" +\n            this.value.height +\n            \" (\" +\n            formatSize(this.value.filesize) +\n            \")\"\n        : null;\n    },\n    src() {\n      return this.value.type && this.value.type.startsWith(\"image\")\n        ? this.value.data.full_url\n        : null;\n    },\n    icon() {\n      return this.value.type && !this.value.type.startsWith(\"image\")\n        ? getIcon(this.value.type)\n        : null;\n    },\n    href() {\n      return this.value.type && this.value.type === \"application/pdf\"\n        ? this.value.data.full_url\n        : null;\n    },\n    viewOptions() {\n      const viewOptions = this.options.viewOptions;\n      return {\n        ...viewOptions,\n        ...this.viewOptionsOverride\n      };\n    },\n    viewType() {\n      if (this.viewTypeOverride) return this.viewTypeOverride;\n      return this.options.viewType;\n    },\n    viewQuery() {\n      const viewQuery = this.options.viewQuery;\n      return {\n        ...viewQuery,\n        ...this.viewQueryOverride\n      };\n    },\n    filters() {\n      return [...this.options.filters, ...this.fileTypeFilters, ...this.filtersOverride];\n    },\n    fileTypeFilters() {\n      if (\n        !this.options.accept ||\n        this.filtersOverride.length > 0 ||\n        this.options.filters.some(filter => filter.field === \"type\")\n      ) {\n        return [];\n      }\n\n      return [\n        {\n          field: \"type\",\n          operator: \"in\",\n          value: this.options.accept.trim().split(/,\\s*/)\n        }\n      ];\n    }\n  },\n  methods: {\n    saveUpload(fileInfo) {\n      this.$emit(\"input\", fileInfo.data);\n      this.newFile = false;\n    },\n    setViewOptions(updates) {\n      this.viewOptionsOverride = {\n        ...this.viewOptionsOverride,\n        ...updates\n      };\n    },\n    setViewQuery(updates) {\n      this.viewQueryOverride = {\n        ...this.viewQueryOverride,\n        ...updates\n      };\n    },\n    onSearchInput(value) {\n      this.setViewQuery({\n        q: value\n      });\n    }\n  },\n  created() {\n    this.onSearchInput = this.$lodash.debounce(this.onSearchInput, 200);\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.card,\n.dropzone {\n  margin-bottom: 20px;\n  width: 100%;\n  max-width: var(--width-x-large);\n}\n\n.dropzone {\n  height: 190px;\n}\n\nbutton {\n  display: inline-block;\n  margin-left: 20px;\n  &:first-of-type {\n    margin-left: 0;\n  }\n}\n\n.body {\n  padding: 20px;\n}\n\n.search-input {\n  border-bottom: 1px solid var(--lightest-gray);\n  & >>> input {\n    border-radius: 0;\n    border: none;\n    padding-left: var(--page-padding);\n    height: var(--header-height);\n\n    &::placeholder {\n      color: var(--light-gray);\n    }\n  }\n}\n\n.items {\n  height: calc(100% - var(--header-height) - 1px);\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./input.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./input.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./input.vue?vue&type=template&id=11d21871&scoped=true&\"\nimport script from \"./input.vue?vue&type=script&lang=js&\"\nexport * from \"./input.vue?vue&type=script&lang=js&\"\nimport style0 from \"./input.vue?vue&type=style&index=0&id=11d21871&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"11d21871\",\n  null\n  \n)\n\nexport default component.exports","export default function getIcon(type) {\n  if (type === \"application/pdf\") {\n    return \"picture_as_pdf\";\n  }\n\n  if (type.startsWith(\"application\")) {\n    return \"insert_drive_file\";\n  }\n\n  if (type.startsWith(\"image\")) {\n    return \"crop_original\";\n  }\n\n  if (type.startsWith(\"video\")) {\n    return \"videocam\";\n  }\n\n  if (type.startsWith(\"code\")) {\n    return \"code\";\n  }\n\n  if (type.startsWith(\"audio\")) {\n    return \"audiotrack\";\n  }\n\n  return \"save\";\n}\n"],"sourceRoot":""}