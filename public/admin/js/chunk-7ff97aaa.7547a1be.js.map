{"version":3,"sources":["webpack:///./src/layouts/tabular/options.vue?d330","webpack:///src/layouts/tabular/options.vue","webpack:///./src/layouts/tabular/options.vue?9b41","webpack:///./src/layouts/tabular/options.vue","webpack:///./src/layouts/tabular/options.vue?6b55","webpack:///./node_modules/@directus/extension-toolkit/mixins/layout.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","on","$event","preventDefault","staticClass","_v","_s","$t","attrs","sort","model","value","callback","$$v","sortList","expression","_l","field","key","name","fieldsInUse","includes","toggleField","viewOptions","spacing","compact","cozy","comfortable","setSpacing","staticRenderFns","component","module","exports","props","primaryKeyField","type","String","required","fields","Object","items","Array","default","viewQuery","loading","Boolean","lazyLoading","selection","link","sortField","collection"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACE,GAAG,CAAC,OAAS,SAASC,GAAQA,EAAOC,oBAAqB,CAACJ,EAAG,QAAQ,CAACK,YAAY,cAAc,CAACT,EAAIU,GAAGV,EAAIW,GAAGX,EAAIY,GAAG,8BAA8BR,EAAG,YAAY,CAACS,MAAM,CAAC,UAAY,YAAYP,GAAG,CAAC,IAAMN,EAAIc,MAAMC,MAAM,CAACC,MAAOhB,EAAY,SAAEiB,SAAS,SAAUC,GAAMlB,EAAImB,SAASD,GAAKE,WAAW,aAAapB,EAAIqB,GAAIrB,EAAY,UAAE,SAASsB,GAAO,OAAOlB,EAAG,MAAM,CAACmB,IAAI,gCAAkCD,EAAMA,MAAMb,YAAY,aAAa,CAACL,EAAG,aAAa,CAACmB,IAAID,EAAMA,MAAMb,YAAY,WAAWI,MAAM,CAAC,GAAK,gCAAkCS,EAAMA,MAAM,MAAQA,EAAME,KAAK,MAAQF,EAAMA,MAAM,WAAatB,EAAIyB,YAAYC,SAASJ,EAAMA,QAAQhB,GAAG,CAAC,OAAS,SAASC,GAAQ,OAAOP,EAAI2B,YAAYL,EAAMA,WAAWlB,EAAG,SAAS,CAACK,YAAY,SAASI,MAAM,CAAC,KAAO,cAAc,MAAQ,2BAA2B,MAAK,GAAGT,EAAG,QAAQ,CAACK,YAAY,aAAaI,MAAM,CAAC,IAAM,YAAY,CAACb,EAAIU,GAAGV,EAAIW,GAAGX,EAAIY,GAAG,eAAeR,EAAG,WAAW,CAACK,YAAY,SAASI,MAAM,CAAC,GAAK,UAAU,MAAQb,EAAI4B,YAAYC,SAAW,cAAc,QAAU,CACtnCC,QAAS9B,EAAIY,GAAG,WAChBmB,KAAM/B,EAAIY,GAAG,QACboB,YAAahC,EAAIY,GAAG,gBACnB,KAAO,WAAWN,GAAG,CAAC,MAAQN,EAAIiC,eAAe,IACjDC,EAAkB,G,+yBCmCtB,OACA,aACA,KAFA,WAGA,OACA,gBAGA,UACA,YADA,WACA,WACA,6CAOA,8BAEA,2EARA,2BACA,qEACA,kDACA,WACA,qCAOA,OACA,OADA,WAEA,sBAGA,QA1BA,WA2BA,qBAEA,SACA,WADA,SACA,GACA,sBACA,aAGA,YANA,SAMA,GACA,uCAEA,cACA,yBAEA,UAGA,oBACA,mCACA,4CACA,OAEA,oBACA,YAGA,KAxBA,WAwBA,WACA,wBACA,eADA,CAEA,qBACA,mCACA,wDACA,WAGA,aAjCA,WAiCA,WACA,uCACA,yDADA,eAEA,mCACA,2DC1GgW,I,wBCQ5VC,EAAY,eACd,EACApC,EACAmC,GACA,EACA,KACA,WACA,MAIa,aAAAC,E,2CCnBf,yBAAyjB,EAAG,G,4CCA5jBC,EAAOC,QAAU,CACfC,MAAO,CACLC,gBAAiB,CACfC,KAAMC,OACNC,UAAU,GAEZC,OAAQ,CACNH,KAAMI,OACNF,UAAU,GAEZG,MAAO,CACLL,KAAMM,MACNC,QAAS,IAAM,IAEjBnB,YAAa,CACXY,KAAMI,OACNG,QAAS,KAAM,KAEjBC,UAAW,CACTR,KAAMI,OACNG,QAAS,KAAM,KAEjBE,QAAS,CACPT,KAAMU,QACNH,SAAS,GAEXI,YAAa,CACXX,KAAMU,QACNH,SAAS,GAEXK,UAAW,CACTZ,KAAMM,MACNC,QAAS,IAAM,IAEjBM,KAAM,CACJb,KAAMC,OACNM,QAAS,MAEXO,UAAW,CACTd,KAAMC,OACNM,QAAS,MAEXQ,WAAY,CACVf,KAAMC,OACNM,QAAS","file":"js/chunk-7ff97aaa.7547a1be.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{on:{\"submit\":function($event){$event.preventDefault();}}},[_c('label',{staticClass:\"type-label\"},[_vm._v(_vm._s(_vm.$t('layouts.tabular.fields')))]),_c('draggable',{attrs:{\"direction\":\"vertical\"},on:{\"end\":_vm.sort},model:{value:(_vm.sortList),callback:function ($$v) {_vm.sortList=$$v},expression:\"sortList\"}},_vm._l((_vm.sortList),function(field){return _c('div',{key:'tabular-layout-options-field-' + field.field,staticClass:\"draggable\"},[_c('v-checkbox',{key:field.field,staticClass:\"checkbox\",attrs:{\"id\":'tabular-layout-options-field-' + field.field,\"label\":field.name,\"value\":field.field,\"inputValue\":_vm.fieldsInUse.includes(field.field)},on:{\"change\":function($event){return _vm.toggleField(field.field)}}}),_c('v-icon',{staticClass:\"handle\",attrs:{\"name\":\"drag_handle\",\"color\":\"--input-border-color\"}})],1)}),0),_c('label',{staticClass:\"type-label\",attrs:{\"for\":\"spacing\"}},[_vm._v(_vm._s(_vm.$t('spacing')))]),_c('v-select',{staticClass:\"select\",attrs:{\"id\":\"spacing\",\"value\":_vm.viewOptions.spacing || 'comfortable',\"options\":{\n\t\t\tcompact: _vm.$t('compact'),\n\t\t\tcozy: _vm.$t('cozy'),\n\t\t\tcomfortable: _vm.$t('comfortable')\n\t\t},\"icon\":\"reorder\"},on:{\"input\":_vm.setSpacing}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<form @submit.prevent>\n\t\t<label class=\"type-label\">{{ $t('layouts.tabular.fields') }}</label>\n\t\t<draggable v-model=\"sortList\" direction=\"vertical\" @end=\"sort\">\n\t\t\t<div\n\t\t\t\tv-for=\"field in sortList\"\n\t\t\t\t:key=\"'tabular-layout-options-field-' + field.field\"\n\t\t\t\tclass=\"draggable\"\n\t\t\t>\n\t\t\t\t<v-checkbox\n\t\t\t\t\t:id=\"'tabular-layout-options-field-' + field.field\"\n\t\t\t\t\t:key=\"field.field\"\n\t\t\t\t\tclass=\"checkbox\"\n\t\t\t\t\t:label=\"field.name\"\n\t\t\t\t\t:value=\"field.field\"\n\t\t\t\t\t:inputValue=\"fieldsInUse.includes(field.field)\"\n\t\t\t\t\t@change=\"toggleField(field.field)\"\n\t\t\t\t></v-checkbox>\n\t\t\t\t<v-icon class=\"handle\" name=\"drag_handle\" color=\"--input-border-color\" />\n\t\t\t</div>\n\t\t</draggable>\n\t\t<label for=\"spacing\" class=\"type-label\">{{ $t('spacing') }}</label>\n\t\t<v-select\n\t\t\tid=\"spacing\"\n\t\t\t:value=\"viewOptions.spacing || 'comfortable'\"\n\t\t\t:options=\"{\n\t\t\t\tcompact: $t('compact'),\n\t\t\t\tcozy: $t('cozy'),\n\t\t\t\tcomfortable: $t('comfortable')\n\t\t\t}\"\n\t\t\tclass=\"select\"\n\t\t\ticon=\"reorder\"\n\t\t\t@input=\"setSpacing\"\n\t\t></v-select>\n\t</form>\n</template>\n\n<script>\nimport mixin from '@directus/extension-toolkit/mixins/layout';\n\nexport default {\n\tmixins: [mixin],\n\tdata() {\n\t\treturn {\n\t\t\tsortList: null\n\t\t};\n\t},\n\tcomputed: {\n\t\tfieldsInUse() {\n\t\t\tif (!this.viewQuery || !this.viewQuery.fields)\n\t\t\t\treturn Object.values(this.fields)\n\t\t\t\t\t.filter(field => field.primary_key === false || field.primary_key === '0')\n\t\t\t\t\t.filter(field => field.hidden_browse !== true)\n\t\t\t\t\t.slice(0, 4)\n\t\t\t\t\t.map(field => field.field);\n\n\t\t\tif (this.viewQuery.fields === '') return [];\n\n\t\t\treturn this.viewQuery.fields.split(',').filter(field => this.fields[field]);\n\t\t}\n\t},\n\twatch: {\n\t\tfields() {\n\t\t\tthis.initSortList();\n\t\t}\n\t},\n\tcreated() {\n\t\tthis.initSortList();\n\t},\n\tmethods: {\n\t\tsetSpacing(value) {\n\t\t\tthis.$emit('options', {\n\t\t\t\tspacing: value\n\t\t\t});\n\t\t},\n\t\ttoggleField(fieldID) {\n\t\t\tconst fieldsInUse = [...this.fieldsInUse];\n\n\t\t\tif (fieldsInUse.includes(fieldID)) {\n\t\t\t\tfieldsInUse.splice(fieldsInUse.indexOf(fieldID), 1);\n\t\t\t} else {\n\t\t\t\tfieldsInUse.push(fieldID);\n\t\t\t}\n\n\t\t\tconst fields = this.sortList\n\t\t\t\t.map(fieldInfo => fieldInfo.field)\n\t\t\t\t.filter(fieldID => fieldsInUse.includes(fieldID))\n\t\t\t\t.join();\n\n\t\t\tthis.$emit('query', {\n\t\t\t\tfields\n\t\t\t});\n\t\t},\n\t\tsort() {\n\t\t\tthis.$emit('query', {\n\t\t\t\t...this.viewQuery,\n\t\t\t\tfields: this.sortList\n\t\t\t\t\t.map(obj => obj.field)\n\t\t\t\t\t.filter(fieldID => this.fieldsInUse.includes(fieldID))\n\t\t\t\t\t.join()\n\t\t\t});\n\t\t},\n\t\tinitSortList() {\n\t\t\tthis.sortList = [\n\t\t\t\t...this.fieldsInUse.map(fieldID => this.fields[fieldID]),\n\t\t\t\t...Object.values(this.fields).filter(\n\t\t\t\t\tfieldInfo => !this.fieldsInUse.includes(fieldInfo.field)\n\t\t\t\t)\n\t\t\t];\n\t\t}\n\t}\n};\n</script>\n\n<style lang=\"scss\" scoped>\nfieldset {\n\tpadding: 8px 0 0 0;\n}\n\n.type-label {\n\tmargin-top: var(--form-vertical-gap);\n\tmargin-bottom: var(--input-label-margin);\n\t&:first-of-type {\n\t\tmargin-top: 0;\n\t}\n}\n\n.draggable {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tcursor: ns-resize;\n\tpadding: 2px 0;\n\n\t&:hover {\n\t\ti {\n\t\t\tcolor: var(--input-border-color-hover);\n\t\t}\n\t}\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./options.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./options.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./options.vue?vue&type=template&id=582c9845&scoped=true&\"\nimport script from \"./options.vue?vue&type=script&lang=js&\"\nexport * from \"./options.vue?vue&type=script&lang=js&\"\nimport style0 from \"./options.vue?vue&type=style&index=0&id=582c9845&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"582c9845\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./options.vue?vue&type=style&index=0&id=582c9845&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./options.vue?vue&type=style&index=0&id=582c9845&lang=scss&scoped=true&\"","module.exports = {\n  props: {\n    primaryKeyField: {\n      type: String,\n      required: true\n    },\n    fields: {\n      type: Object,\n      required: true\n    },\n    items: {\n      type: Array,\n      default: () => ([])\n    },\n    viewOptions: {\n      type: Object,\n      default: () => ({})\n    },\n    viewQuery: {\n      type: Object,\n      default: () => ({})\n    },\n    loading: {\n      type: Boolean,\n      default: false\n    },\n    lazyLoading: {\n      type: Boolean,\n      default: false\n    },\n    selection: {\n      type: Array,\n      default: () => []\n    },\n    link: {\n      type: String,\n      default: null\n    },\n    sortField: {\n      type: String,\n      default: null\n    },\n    collection: {\n      type: String,\n      default: null\n    }\n  }\n};\n"],"sourceRoot":""}